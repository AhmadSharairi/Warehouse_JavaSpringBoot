<div class="supply-management my-5">
  <h2 class="text-center mb-4">{{ curruntRoleName }} Mode</h2>
  <!-- <h2 class="text-center mb-4">User Name : {{ userName }}</h2> -->

  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3" *ngIf="curruntRoleName !== 'Manager'">
      <h3 class="mb-0">Documents:</h3>
      <button class="btn btn-primary" (click)="addDocument()">Add Document</button>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-bordered table-hover">
        <thead class="table-light">
          <tr>
            <th>Document Name</th>
            <th>Subject</th>
            <th>Created Date</th>
            <th>Created By</th>
            <th>Status</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let supply of supplys" [ngClass]="{'font-weight-bold bg-warning': supply.createdBy === userName}">
            <td>{{ supply.documentName }}</td>
            <td>{{ supply.documentSubject }}</td>
            <td>{{ supply.createdDateTime | date:'mediumDate' }}</td>
            <td>{{ supply.createdBy }}</td>
            <td>
              <span class="badge" [ngClass]="{
                    'bg-warning text-dark': supply.status === 'Pending',
                    'bg-success text-white': supply.status === 'Approved',
                    'bg-danger text-white': supply.status === 'Declined'
                  }">
                {{ supply.status }}
              </span>
            </td>
            <td class="action-cell text-center">
              <div class="d-flex justify-content-center">
                <button class="btn btn-danger btn-sm action-button mx-1" (click)="deleteSupply(supply.id)">Delete</button>

                <div *ngIf="curruntRoleName === 'Manager'">
                  <button class="btn btn-success btn-sm action-button mx-1"
                          (click)="changeSupplyStatus(supply.id, 'Approved')"
                          [disabled]="supply.status !== 'Pending' && supply.status !== 'Declined'">
                    Approve
                  </button>

                  <button class="btn btn-danger btn-sm action-button mx-1"
                          (click)="changeSupplyStatus(supply.id, 'Declined')"
                          [disabled]="supply.status !== 'Approved' && supply.status !== 'Pending' ">
                    Decline
                  </button>
                </div>

              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
